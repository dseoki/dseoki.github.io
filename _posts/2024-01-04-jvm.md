---
title: JVM 메모리 구조
summary: Method Area, Heap, Stack, etc
categories: [java]
comments: true
---

## JVM 메모리 구조
JVM(Java Virtual Machine)은 자바 프로그램 실행환경을 만들어주는 소프트웨어이다.\
JVM은 자바 실행 환경 JRE(Java Runtime Environment)에 포함 되어있다.

![jvm memory](/assets/img/post/jvm-memory.png)

JVM은 메모리 용도에 따라 주요 3가지 주요 영역(method area, call stack, heap)으로 나누어 관리된다. 

1. 메서드 영역(method area)
   - 클래스의 사용되면 JVM은 .class 파일을 읽어 클래스의 정보를 이곳에 저장한다. 이 때, 그 클래스의 클래스 변수도 이 영역에 함께 생성된다.
2. 힙(heap): 언제든지 넣고 언제든지 뺄 수 있는 공간
    - 인스턴스가 생성되는 공간이다. 실행 중 생성된 모든 인스턴스는 이곳에 생성된다.
    - 인스턴스 변수들이 생성된는 공간
3. 호출스택(call stack | execution stack) : 먼저 넣은 것이 나중에 나오고 나중에 넣은게 먼저 나옴 (FILO)
    - 메서드 작업에 필요한 메모리 공간을 제공
    - 메서드가 호출되면 메모리가 할당되고, 메모리는 메서드가 작업을 수행하는 동안 지역변수들과 연산의 중간결과 등을 저장한다.
    - 메서드의 작업이 끝나면 할당되었던 메모리 공간은 반환되어 비워진다.

- 메서드가 호출되면 수행에 필요한 만큼의 메모리 스택에 할당받는다
- 메서드가 수행을 마치고나면 사용했던 메모리를 반환하고 스택에서 제거된다.
- 호출스택의 제일 위헤 있는 메서드가 현재 실행 중인 메서드이다.
- 아래에 있는 메서드가 바로 위의 메서드를 호출한 메서드이다.